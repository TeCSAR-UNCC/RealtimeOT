/*
 * kalman_filter_helper.c
 *
 *  Created on: Jul 22, 2015
 *      Author: xufaneric
 */

#include "kalman_filter_helper.h"

void kalman_filter_helper_init()
{
	//initial matrix F
	matrix_set_m(&F, 4);
	matrix_set_n(&F, 4);
	matrix_init(&F);

	matrix_write(&F, 0, 0, 1);
	matrix_write(&F, 0, 1, 1);
	matrix_write(&F, 0, 2, 0);
	matrix_write(&F, 0, 3, 0);
		matrix_write(&F, 1, 0, 0);
		matrix_write(&F, 1, 1, 1);
		matrix_write(&F, 1, 2, 0);
		matrix_write(&F, 1, 3, 0);
			matrix_write(&F, 2, 0, 0);
			matrix_write(&F, 2, 1, 0);
			matrix_write(&F, 2, 2, 1);
			matrix_write(&F, 2, 3, 1);
				matrix_write(&F, 3, 0, 0);
				matrix_write(&F, 3, 1, 0);
				matrix_write(&F, 3, 2, 0);
				matrix_write(&F, 3, 3, 1);

	//get transposition of F ==> F^T
	matrix_set_m(&FT, 4);
	matrix_set_n(&FT, 4);
	matrix_init(&FT);

	matrix_transpos(&F, &FT);

	//init Q
	matrix_set_m(&Q, 4);
	matrix_set_n(&Q, 4);
	matrix_init(&Q);

	matrix_write(&Q, 0, 0, 0.1);
	matrix_write(&Q, 0, 1, 0);
	matrix_write(&Q, 0, 2, 0);
	matrix_write(&Q, 0, 3, 0);
		matrix_write(&Q, 1, 0, 0);
		matrix_write(&Q, 1, 1, 0.1);
		matrix_write(&Q, 1, 2, 0);
		matrix_write(&Q, 1, 3, 0);
			matrix_write(&Q, 2, 0, 0);
			matrix_write(&Q, 2, 1, 0);
			matrix_write(&Q, 2, 2, 0.1);
			matrix_write(&Q, 2, 3, 0);
				matrix_write(&Q, 3, 0, 0);
				matrix_write(&Q, 3, 1, 0);
				matrix_write(&Q, 3, 2, 0);
				matrix_write(&Q, 3, 3, 0.1);

	//init H
	matrix_set_m(&H, 2);
	matrix_set_n(&H, 4);
	matrix_init(&H);

	matrix_write(&H, 0, 0, 1);
	matrix_write(&H, 0, 1, 0);
	matrix_write(&H, 0, 2, 0);
	matrix_write(&H, 0, 3, 0);
		matrix_write(&H, 1, 0, 0);
		matrix_write(&H, 1, 1, 0);
		matrix_write(&H, 1, 2, 1);
		matrix_write(&H, 1, 3, 0);

	//get transposition of H ==> H^T
	matrix_set_m(&HT, 4);
	matrix_set_n(&HT, 2);
	matrix_init(&HT);

	matrix_transpos(&H, &HT);
}
